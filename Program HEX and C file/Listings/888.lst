C51 COMPILER V9.57.0.0   888                                                               05/22/2018 17:14:06 PAGE 1   


C51 COMPILER V9.57.0.0, COMPILATION OF MODULE 888
OBJECT MODULE PLACED IN .\Objects\888.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE 888.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\888.l
                    -st) TABS(2) OBJECT(.\Objects\888.obj)

line level    source

   1          #include <REG52.H>
   2          #include <intrins.h>
   3          #define uchar unsigned char
   4          
   5          #define uint unsigned int
   6          
   7          uchar display[8][8];
   8          
   9          /*rank:A,1,2,3,4,I,心,U*/
  10          
  11          uchar code table_cha[8][8]={0x51,0x51,0x51,0x4a,0x4a,0x4a,0x44,0x44,0x18,0x1c,0x18,0x18,0x18,0x18,0x18,0x3
             -c,0x3c,0x66,0x66,0x30,0x18,0xc,0x6,0xf6,0x3c,0x66,0x60,0x38,0x60,0x60,0x66,0x3c,0x30,0x38,0x3c,0x3e,0x36,0x7e,0x30,0x30,
             -0x3c,0x3c,0x18,0x18,0x18,0x18,0x3c,0x3c,0x66,0xff,0xff,0xff,0x7e,0x3c,0x18,0x18,0x66,0x66,0x66,0x66,0x66,0x66,0x7e,0x3c}
             -;
  12          
  13          /*the "ideasoft"*/
  14          
  15          uchar code table_id[40]={0x81,0xff,0x81,0x00,0xff,0x81,0x81,0x7e,0x00,0xff,0x89,0x89,0x00,0xf8,0x27,0x27,0
             -xf8,0x00,0x8f,0x89,0x89,0xf9,0x00,0xff,0x81,0x81,0xff,0x00,0xff,0x09,0x09,0x09,0x01,0x0,0x01,0x01,0xff,0x01,0x01,0x00};
  16          
  17          /*railway*/
  18          
  19          uchar code dat[128]={0x0,0x20,0x40,0x60,0x80,0xa0,0xc0,0xe0,0xe4,0xe8,0xec,0xf0,0xf4,0xf8,0xfc,0xdc,0xbc,0
             -x9c,0x7c,0x5c,0x3c,0x1c,0x18,0x14,0x10,0xc,0x8,0x4,0x25,0x45,0x65,0x85,0xa5,0xc5,0xc9,0xcd,0xd1,0xd5,0xd9,0xb9,0x99,0x79
             -,0x59,0x39,0x35,0x31,0x2d,0x29,0x4a,0x6a,0x8a,0xaa,0xae,0xb2,0xb6,0x96,0x76,0x56,0x52,0x4e,0x6f,0x8f,0x93,0x73,0x6f,0x8f
             -,0x93,0x73,0x4a,0x6a,0x8a,0xaa,0xae,0xb2,0xb6,0x96,0x76,0x56,0x52,0x4e,0x25,0x45,0x65,0x85,0xa5,0xc5,0xc9,0xcd,0xd1,0xd5
             -,0xd9,0xb9,0x99,0x79,0x59,0x39,0x35,0x31,0x2d,0x29,0x0,0x20,0x40,0x60,0x80,0xa0,0xc0,0xe0,0xe4,0xe8,0xec,0xf0,0xf4,0xf8,
             -0xfc,0xdc,0xbc,0x9c,0x7c,0x5c,0x3c,0x1c,0x18,0x14,0x10,0xc,0x8,0x4};
  20          
  21          /*railway 2*/
  22          
  23          uchar code dat2[28]={0x0,0x20,0x40,0x60,0x80,0xa0,0xc0,0xe0,0xe4,0xe8,0xec,0xf0,0xf4,0xf8,0xfc,0xdc,0xbc,0
             -x9c,0x7c,0x5c,0x3c,0x1c,0x18,0x14,0x10,0xc,0x8,0x4};
  24          
  25          /*railway 3*/
  26          
  27          uchar code dat3[24]={0x00,0x01,0x02,0x03,0x04,0x05,0x06,0x16,0x26,0x36,0x46,0x56,0x66,0x65,0x64,0x63,0x62,
             -0x61,0x60,0x50,0x40,0x30,0x20,0x10};
  28          
  29          /*3p char*/
  30          
  31          uchar code table_3p[3][8]={0xff,0x89,0xf5,0x93,0x93,0xf5,0x89,0xff,0x0e,0x1f,0x3f,0x7e,0x7e,0x3f,0x1f,0x0e
             -,0x18,0x3c,0x7e,0xff,0x18,0x18,0x18,0x18};
  32          
  33          /*initializtion
  34          
  35          That is to initialize the program .
  36          
  37          It is write to set the timer in c52 mcu.
  38          
  39          So the program can renovate the led_3d_cube in fixed time use the interrupt function.*/
  40          
  41          void sinter()
  42          
C51 COMPILER V9.57.0.0   888                                                               05/22/2018 17:14:06 PAGE 2   

  43          {
  44   1      
  45   1               IE=0x82;
  46   1      
  47   1               TCON=0x01;
  48   1      
  49   1               TH0=0xc0;
  50   1      
  51   1               TL0=0;
  52   1      
  53   1               TR0=1;
  54   1      
  55   1      }
  56          
  57          void delay5us(void)   //误差 -0.026765046296us STC 1T 22.1184Mhz
  58          {
  59   1          unsigned char a,b;
  60   1          for(b=7;b>0;b--)
  61   1              for(a=2;a>0;a--);
  62   1      }
  63          
  64          void delay(uint i)
  65          
  66          {                                                                                                     
  67   1      
  68   1               while (i--){
  69   2           delay5us();}//12t的mcu 注释这个延时即可
  70   1      }
  71          
  72          /*To judge the num bit*/
  73          
  74          uchar judgebit(uchar num,uchar b)
  75          
  76          {
  77   1      
  78   1               char n;
  79   1      
  80   1               num=num&(1<<b);
  81   1      
  82   1               if (num)
  83   1      
  84   1               n=1;
  85   1      
  86   1               else
  87   1      
  88   1               n=0;
  89   1      
  90   1               return n;
  91   1      
  92   1      }
  93          
  94          /*To figure out the round number*/
  95          
  96          uchar abs(uchar a)
  97          
  98          {
  99   1      
 100   1               uchar b;
 101   1      
 102   1               b=a/10;
 103   1      
 104   1               a=a-b*10;
C51 COMPILER V9.57.0.0   888                                                               05/22/2018 17:14:06 PAGE 3   

 105   1      
 106   1               if (a>=5)
 107   1      
 108   1               b++;
 109   1      
 110   1               return b;
 111   1      
 112   1      }
 113          
 114          /*To figure out the absolute value*/
 115          
 116          uchar abss(char a)
 117          
 118          {
 119   1      
 120   1               if (a<0)
 121   1      
 122   1               a=-a;
 123   1      
 124   1               return a;
 125   1      
 126   1      }
 127          
 128          /*The function can comparat the character.
 129          
 130          And remove the big one to the back.*/
 131          
 132          void max(uchar *a,uchar *b)
 133          
 134          {
 135   1      
 136   1         uchar t;
 137   1      
 138   1         if ((*a)>(*b))
 139   1      
 140   1         {
 141   2      
 142   2                         t=(*a);
 143   2      
 144   2                         (*a)=(*b);
 145   2      
 146   2                         (*b)=t;   
 147   2      
 148   2         }
 149   1      
 150   1      }
 151          
 152          /*The function is to figure out the max number and return it.*/
 153          
 154          uchar maxt(uchar a,uchar b,uchar c)
 155          
 156          {
 157   1      
 158   1               if (a<b)
 159   1      
 160   1               a=b;
 161   1      
 162   1               if (a<c)
 163   1      
 164   1               a=c;
 165   1      
 166   1               return a;
C51 COMPILER V9.57.0.0   888                                                               05/22/2018 17:14:06 PAGE 4   

 167   1      
 168   1      }
 169          
 170          void clear(char le)
 171          
 172          {
 173   1      
 174   1               uchar i,j;
 175   1      
 176   1               for (j=0;j<8;j++)
 177   1      
 178   1               {
 179   2      
 180   2                         for (i=0;i<8;i++)
 181   2      
 182   2                         display[j][i]=le;
 183   2      
 184   2               }
 185   1      
 186   1      }
 187          
 188          void trailler(uint speed)
 189          
 190          {
 191   1      
 192   1               char i,j;
 193   1      
 194   1               for (i=6;i>=-3;i--)
 195   1      
 196   1               {
 197   2      
 198   2                         if (i>=0)
 199   2      
 200   2                         {
 201   3      
 202   3                                  for (j=0;j<8;j++)
 203   3      
 204   3                                  display[j][i]=display[j][i+1];
 205   3      
 206   3                         }
 207   2      
 208   2                         if (i<4)
 209   2      
 210   2                         {
 211   3      
 212   3                                  for (j=0;j<8;j++)
 213   3      
 214   3                                  display[j][i+4]=0;
 215   3      
 216   3                         }
 217   2      
 218   2                         delay(speed);
 219   2      
 220   2               }
 221   1      
 222   1      }
 223          
 224          void point(uchar x,uchar y,uchar z,uchar le)
 225          
 226          {
 227   1      
 228   1               uchar ch1,ch0;
C51 COMPILER V9.57.0.0   888                                                               05/22/2018 17:14:06 PAGE 5   

 229   1      
 230   1               ch1=1<<x;
 231   1      
 232   1               ch0=~ch1;
 233   1      
 234   1               if (le) 
 235   1      
 236   1               display[z][y]=display[z][y]|ch1;
 237   1      
 238   1               else 
 239   1      
 240   1               display[z][y]=display[z][y]&ch0;
 241   1      
 242   1      }
 243          
 244          void type(uchar cha,uchar y)
 245          
 246          {        
 247   1      
 248   1               uchar xx;
 249   1      
 250   1               for (xx=0;xx<8;xx++)
 251   1      
 252   1               {
 253   2      
 254   2               display[xx][y]=table_cha[cha][xx];
 255   2      
 256   2               }
 257   1      
 258   1      }
 259          
 260          /*The first variable is the distance from the midpoint.
 261          
 262          The second is the layer.
 263          
 264          the third is the flash speed of the time between each two point.
 265          
 266          The forth is the enable io,it controls weather draw or claen.*/
 267          
 268          void cirp(char cpp,uchar dir,uchar le)
 269          
 270          {
 271   1      
 272   1               uchar a,b,c,cp;
 273   1      
 274   1               if ((cpp<128)&(cpp>=0))
 275   1      
 276   1               {
 277   2      
 278   2                         if (dir)
 279   2      
 280   2                         cp=127-cpp;
 281   2      
 282   2                         else 
 283   2      
 284   2                         cp=cpp; 
 285   2      
 286   2                         a=(dat[cp]>>5)&0x07;
 287   2      
 288   2                         b=(dat[cp]>>2)&0x07;
 289   2      
 290   2                         c=dat[cp]&0x03;
C51 COMPILER V9.57.0.0   888                                                               05/22/2018 17:14:06 PAGE 6   

 291   2      
 292   2                         if (cpp>63)
 293   2      
 294   2                         c=7-c;
 295   2      
 296   2                         point (a,b,c,le);
 297   2      
 298   2               }
 299   1      
 300   1      }
 301          
 302          void line(uchar x1,uchar y1,uchar z1,uchar x2,uchar y2,uchar z2,uchar le)
 303          
 304          {
 305   1      
 306   1               char t,a,b,c,a1,b1,c1,i;
 307   1      
 308   1               a1=x2-x1;
 309   1      
 310   1               b1=y2-y1;
 311   1      
 312   1               c1=z2-z1;
 313   1      
 314   1               t=maxt(abss(a1),abss(b1),abss(c1));
 315   1      
 316   1               a=x1*10;
 317   1      
 318   1               b=y1*10;
 319   1      
 320   1               c=z1*10;
 321   1      
 322   1               a1=a1*10/t;
 323   1      
 324   1               b1=b1*10/t;
 325   1      
 326   1               c1=c1*10/t;
 327   1      
 328   1               for (i=0;i<t;i++)
 329   1      
 330   1               {
 331   2      
 332   2                         point(abs(a),abs(b),abs(c),le);
 333   2      
 334   2                         a+=a1;
 335   2      
 336   2                         b+=b1;
 337   2      
 338   2                         c+=c1;
 339   2      
 340   2               }
 341   1      
 342   1               point(x2,y2,z2,le);
 343   1      
 344   1      }
 345          
 346          void box(uchar x1,uchar y1,uchar z1,uchar x2,uchar y2,uchar z2,uchar fill,uchar le)
 347          
 348          {
 349   1      
 350   1               uchar i,j,t=0;
 351   1      
 352   1               max(&x1,&x2);
C51 COMPILER V9.57.0.0   888                                                               05/22/2018 17:14:06 PAGE 7   

 353   1      
 354   1               max(&y1,&y2);
 355   1      
 356   1               max(&z1,&z2);
 357   1      
 358   1               for (i=x1;i<=x2;i++)
 359   1      
 360   1                         t|=1<<i;
 361   1      
 362   1               if (!le)
 363   1      
 364   1                         t=~t;
 365   1      
 366   1               if (fill)
 367   1      
 368   1               {
 369   2      
 370   2                         if (le)
 371   2      
 372   2                         {
 373   3      
 374   3                                  for (i=z1;i<=z2;i++)
 375   3      
 376   3                                  {
 377   4      
 378   4                                           for (j=y1;j<=y2;j++)
 379   4      
 380   4                                                     display[j][i]|=t;
 381   4      
 382   4                                  }
 383   3      
 384   3                         }
 385   2      
 386   2                         else
 387   2      
 388   2                         {
 389   3      
 390   3                                  for (i=z1;i<=z2;i++)
 391   3      
 392   3                                  {
 393   4      
 394   4                                           for (j=y1;j<=y2;j++)
 395   4      
 396   4                                                     display[j][i]&=t;
 397   4      
 398   4                                  }
 399   3      
 400   3                         }
 401   2      
 402   2               }
 403   1      
 404   1               else
 405   1      
 406   1               {
 407   2      
 408   2                         if (le)
 409   2      
 410   2                         {
 411   3      
 412   3                                  display[y1][z1]|=t;
 413   3      
 414   3                                  display[y2][z1]|=t;
C51 COMPILER V9.57.0.0   888                                                               05/22/2018 17:14:06 PAGE 8   

 415   3      
 416   3                                  display[y1][z2]|=t;
 417   3      
 418   3                                  display[y2][z2]|=t;
 419   3      
 420   3                         }
 421   2      
 422   2                         else
 423   2      
 424   2                         {
 425   3      
 426   3                                 display[y1][z1]&=t;
 427   3      
 428   3                                  display[y2][z1]&=t;
 429   3      
 430   3                                  display[y1][z2]&=t;
 431   3      
 432   3                                  display[y2][z2]&=t;
 433   3      
 434   3                         }
 435   2      
 436   2                         t=(0x01<<x1)|(0x01<<x2);
 437   2      
 438   2                         if (!le)
 439   2      
 440   2                                  t=~t;
 441   2      
 442   2                         if (le)
 443   2      
 444   2                         {
 445   3      
 446   3                                  for (j=z1;j<=z2;j+=(z2-z1))
 447   3      
 448   3                                  {
 449   4      
 450   4                                           for (i=y1;i<=y2;i++)
 451   4      
 452   4                                                     display[i][j]|=t;
 453   4      
 454   4                                  }
 455   3      
 456   3                                  for (j=y1;j<=y2;j+=(y2-y1))
 457   3      
 458   3                                  {
 459   4      
 460   4                                           for (i=z1;i<=z2;i++)
 461   4      
 462   4                                                     display[j][i]|=t;
 463   4      
 464   4                                  }
 465   3      
 466   3                         }
 467   2      
 468   2                         else
 469   2      
 470   2                         {
 471   3      
 472   3                                  for (j=z1;j<=z2;j+=(z2-z1))
 473   3      
 474   3                                  {
 475   4      
 476   4                                           for (i=y1;i<=y2;i++)
C51 COMPILER V9.57.0.0   888                                                               05/22/2018 17:14:06 PAGE 9   

 477   4      
 478   4                                           {
 479   5      
 480   5                                           display[i][j]&=t;
 481   5      
 482   5                                           }
 483   4      
 484   4                                  }
 485   3      
 486   3                                  for (j=y1;j<=y2;j+=(y2-y1))
 487   3      
 488   3                                  {
 489   4      
 490   4                                           for (i=z1;i<=z2;i++)
 491   4      
 492   4                                           {
 493   5      
 494   5                                           display[j][i]&=t;
 495   5      
 496   5                                           }
 497   4      
 498   4                                  }
 499   3      
 500   3                         }
 501   2      
 502   2               }
 503   1      
 504   1      }
 505          
 506          void box_apeak_xy(uchar x1,uchar y1,uchar z1,uchar x2,uchar y2,uchar z2,uchar fill,uchar le)
 507          
 508          {
 509   1      
 510   1               uchar i;
 511   1      
 512   1               max(&z1,&z2);
 513   1      
 514   1               if (fill)
 515   1      
 516   1               {
 517   2      
 518   2                         for (i=z1;i<=z2;i++)
 519   2      
 520   2                         {
 521   3      
 522   3                                  line (x1,y1,i,x2,y2,i,le);
 523   3      
 524   3                         } 
 525   2      
 526   2               } 
 527   1      
 528   1               else
 529   1      
 530   1               {
 531   2      
 532   2                         line (x1,y1,z1,x2,y2,z1,le);
 533   2      
 534   2                         line (x1,y1,z2,x2,y2,z2,le);
 535   2      
 536   2                         line (x2,y2,z1,x2,y2,z2,le);
 537   2      
 538   2                         line (x1,y1,z1,x1,y1,z2,le);
C51 COMPILER V9.57.0.0   888                                                               05/22/2018 17:14:06 PAGE 10  

 539   2      
 540   2               }
 541   1      
 542   1      }
 543          
 544          void poke(uchar n,uchar x,uchar y)
 545          
 546          {
 547   1      
 548   1               uchar i;
 549   1      
 550   1               for (i=0;i<8;i++)
 551   1      
 552   1               {
 553   2      
 554   2                point(x,y,i,judgebit(n,i));
 555   2      
 556   2               }
 557   1      
 558   1      }
 559          
 560          void boxtola(char i,uchar n)
 561          
 562          {
 563   1      
 564   1               if ((i>=0)&(i<8))
 565   1      
 566   1               {
 567   2      
 568   2                         poke(n,0,7-i);
 569   2      
 570   2               }
 571   1      
 572   1               if ((i>=8)&(i<16))
 573   1      
 574   1               {
 575   2      
 576   2                         poke(n,i-8,0);
 577   2      
 578   2               }
 579   1      
 580   1               if ((i>=16)&(i<24))
 581   1      
 582   1               {
 583   2      
 584   2                         poke(n,7,i-16);
 585   2      
 586   2               }
 587   1      
 588   1       
 589   1      
 590   1      }
 591          
 592          void rolldisplay(uint speed)
 593          
 594          {
 595   1      
 596   1               uchar j;
 597   1      
 598   1               char i,a;
 599   1      
 600   1               for (i=23;i>-40;i--)
C51 COMPILER V9.57.0.0   888                                                               05/22/2018 17:14:06 PAGE 11  

 601   1      
 602   1               {
 603   2      
 604   2                         for (j=0;j<40;j++)
 605   2      
 606   2                         {
 607   3      
 608   3                                  a=i+j;
 609   3      
 610   3                                  if ((a>=0)&(a<24))
 611   3      
 612   3                                  boxtola(a,table_id[j]);
 613   3      
 614   3                         }
 615   2      
 616   2                         delay(speed);
 617   2      
 618   2               }
 619   1      
 620   1      }
 621          
 622          void roll_apeak_yz(uchar n,uint speed)
 623          
 624          {
 625   1      
 626   1               uchar i;
 627   1      
 628   1               switch(n)
 629   1      
 630   1               {
 631   2      
 632   2                         case 1:
 633   2      
 634   2                                  for (i=0;i<7;i++)
 635   2      
 636   2                                  {
 637   3      
 638   3                                           display[i][7]=0;
 639   3      
 640   3                                           display[7][6-i]=255;
 641   3      
 642   3                                           delay(speed);
 643   3      
 644   3                                  };
 645   2      
 646   2                                  break;
 647   2      
 648   2                         case 2:
 649   2      
 650   2                                  for (i=0;i<7;i++)
 651   2      
 652   2                                  {
 653   3      
 654   3                                           display[7][7-i]=0;
 655   3      
 656   3                                           display[6-i][0]=255;
 657   3      
 658   3                                           delay(speed);
 659   3      
 660   3                                  };
 661   2      
 662   2                                  break;
C51 COMPILER V9.57.0.0   888                                                               05/22/2018 17:14:06 PAGE 12  

 663   2      
 664   2                         case 3:
 665   2      
 666   2                                  for (i=0;i<7;i++)
 667   2      
 668   2                                  {
 669   3      
 670   3                                           display[7-i][0]=0;
 671   3      
 672   3                                           display[0][i+1]=255;
 673   3      
 674   3                                           delay(speed);
 675   3      
 676   3                                  };
 677   2      
 678   2                                  break;
 679   2      
 680   2                         case 0:
 681   2      
 682   2                                  for (i=0;i<7;i++)
 683   2      
 684   2                                  {
 685   3      
 686   3                                           display[0][i]=0;
 687   3      
 688   3                                           display[i+1][7]=255;
 689   3      
 690   3                                           delay(speed);
 691   3      
 692   3                                  };
 693   2      
 694   2               }
 695   1      
 696   1      }
 697          
 698          void roll_apeak_xy(uchar n,uint speed)
 699          
 700          {
 701   1      
 702   1               uchar i;
 703   1      
 704   1               switch(n)
 705   1      
 706   1               {
 707   2      
 708   2                         case 1:
 709   2      
 710   2                                  for (i=0;i<7;i++)
 711   2      
 712   2                                  {
 713   3      
 714   3                                           line(0,i,0,0,i,7,0);
 715   3      
 716   3                                           line(i+1,7,0,i+1,7,7,1);
 717   3      
 718   3                                           delay(speed);
 719   3      
 720   3                                  };
 721   2      
 722   2                                  break;
 723   2      
 724   2                         case 2:
C51 COMPILER V9.57.0.0   888                                                               05/22/2018 17:14:06 PAGE 13  

 725   2      
 726   2                                  for (i=0;i<7;i++)
 727   2      
 728   2                                  {
 729   3      
 730   3                                           line(i,7,0,i,7,7,0);
 731   3      
 732   3                                           line(7,6-i,0,7,6-i,7,1);
 733   3      
 734   3                                           delay(speed);
 735   3      
 736   3                                  };
 737   2      
 738   2                                  break;
 739   2      
 740   2                         case 3:
 741   2      
 742   2                                  for (i=0;i<7;i++)
 743   2      
 744   2                                  {
 745   3      
 746   3                                           line(7,7-i,0,7,7-i,7,0);
 747   3      
 748   3                                           line(6-i,0,0,6-i,0,7,1);
 749   3      
 750   3                                           delay(speed);
 751   3      
 752   3                                  };
 753   2      
 754   2                                  break;
 755   2      
 756   2                         case 0:
 757   2      
 758   2                                  for (i=0;i<7;i++)
 759   2      
 760   2                                  {
 761   3      
 762   3                                           line(7-i,0,0,7-i,0,7,0);
 763   3      
 764   3                                           line(0,i+1,0,0,i+1,7,1);
 765   3      
 766   3                                           delay(speed);
 767   3      
 768   3                                  };
 769   2      
 770   2               }
 771   1      
 772   1      }
 773          
 774          void roll_3_xy(uchar n,uint speed)
 775          
 776          {
 777   1      
 778   1               uchar i;
 779   1      
 780   1               switch(n)
 781   1      
 782   1               {
 783   2      
 784   2                         case 1:
 785   2      
 786   2                                  for (i=0;i<8;i++)
C51 COMPILER V9.57.0.0   888                                                               05/22/2018 17:14:06 PAGE 14  

 787   2      
 788   2                                  {
 789   3      
 790   3                                           box_apeak_xy (0,i,0,7,7-i,7,1,1);
 791   3      
 792   3                                           delay(speed);
 793   3      
 794   3                                           if (i<7)
 795   3      
 796   3                                           box_apeak_xy (3,3,0,0,i,7,1,0);
 797   3      
 798   3                                  };
 799   2      
 800   2                                  break;
 801   2      
 802   2                         case 2:
 803   2      
 804   2                                  for (i=0;i<8;i++)
 805   2      
 806   2                                  {
 807   3      
 808   3                                            box_apeak_xy (7-i,0,0,i,7,7,1,1);
 809   3      
 810   3                                           delay(speed);
 811   3      
 812   3                                           if (i<7)
 813   3      
 814   3                                           box_apeak_xy (3,4,0,i,7,7,1,0);
 815   3      
 816   3                                  };
 817   2      
 818   2                                  break;
 819   2      
 820   2                         case 3:
 821   2      
 822   2                                  for (i=0;i<8;i++)
 823   2      
 824   2                                  {
 825   3      
 826   3                                           box_apeak_xy (0,i,0,7,7-i,7,1,1);
 827   3      
 828   3                                           delay(speed);
 829   3      
 830   3                                           if (i<7)
 831   3      
 832   3                                           box_apeak_xy (4,4,0,7,7-i,7,1,0);
 833   3      
 834   3                                  };
 835   2      
 836   2                                  break;
 837   2      
 838   2                         case 0:
 839   2      
 840   2                                  for (i=0;i<8;i++)
 841   2      
 842   2                                  {
 843   3      
 844   3                                           box_apeak_xy (7-i,0,0,i,7,7,1,1);
 845   3      
 846   3                                           delay(speed);
 847   3      
 848   3                                           if (i<7)
C51 COMPILER V9.57.0.0   888                                                               05/22/2018 17:14:06 PAGE 15  

 849   3      
 850   3                                           box_apeak_xy (4,3,0,7-i,0,7,1,0);
 851   3      
 852   3                                  };
 853   2      
 854   2               }
 855   1      
 856   1      }
 857          
 858          void trans(uchar z,uint speed)
 859          
 860          {
 861   1      
 862   1               uchar i,j;
 863   1      
 864   1               for (j=0;j<8;j++)
 865   1      
 866   1               {
 867   2      
 868   2                         for (i=0;i<8;i++)
 869   2      
 870   2                         {
 871   3      
 872   3                                  display[z][i]>>=1;
 873   3      
 874   3                         }
 875   2      
 876   2                         delay(speed);
 877   2      
 878   2               }
 879   1      
 880   1      }
 881          
 882          void tranoutchar(uchar c,uint speed)
 883          
 884          {
 885   1      
 886   1               uchar i,j,k,a,i2=0;
 887   1      
 888   1               for (i=0;i<8;i++)
 889   1      
 890   1               {
 891   2      
 892   2                         if (i<7)
 893   2      
 894   2                         box_apeak_xy (i+1,0,0,i+1,7,7,1,1);
 895   2      
 896   2                         box_apeak_xy (i2,0,0,i2,7,7,1,0);
 897   2      
 898   2                         a=0;
 899   2      
 900   2                         i2=i+1;
 901   2      
 902   2                         for (j=0;j<=i;j++)
 903   2      
 904   2                         {
 905   3      
 906   3                                  a=a|(1<<j);
 907   3      
 908   3                         }
 909   2      
 910   2                         for (k=0;k<8;k++)
C51 COMPILER V9.57.0.0   888                                                               05/22/2018 17:14:06 PAGE 16  

 911   2      
 912   2                         {
 913   3      
 914   3                                  display[k][3]|=table_cha[c][k]&a;
 915   3      
 916   3                                  display[k][4]|=table_cha[c][k]&a;
 917   3      
 918   3                         }
 919   2      
 920   2                         delay(speed);
 921   2      
 922   2               }
 923   1      
 924   1      }
 925          
 926          void transss()
 927          
 928          {
 929   1      
 930   1               uchar i,j;
 931   1      
 932   1               for (i=0;i<8;i++)
 933   1      
 934   1               {
 935   2      
 936   2                         for (j=0;j<8;j++)
 937   2      
 938   2                         display[i][j]<<=1;
 939   2      
 940   2               }
 941   1      
 942   1      }
 943          
 944           
 945          
 946          /*From now on,the function below is to display the flash.*/
 947          
 948          void flash_1()
 949          
 950          {
 951   1      
 952   1       
 953   1      
 954   1               clear(0);
 955   1      
 956   1               type(1,0);
 957   1      
 958   1               delay(60000);
 959   1      
 960   1               type(2,0);
 961   1      
 962   1               delay(60000);
 963   1      
 964   1               type(3,0);
 965   1      
 966   1               delay(60000);
 967   1      
 968   1               type(4,0);
 969   1      
 970   1               delay(60000);
 971   1      
 972   1               delay(60000);
C51 COMPILER V9.57.0.0   888                                                               05/22/2018 17:14:06 PAGE 17  

 973   1      
 974   1               clear(0);
 975   1      
 976   1               rolldisplay(30000);
 977   1      
 978   1               type(0,7);
 979   1      
 980   1               delay(60000);
 981   1      
 982   1               trailler(6000);
 983   1      
 984   1               delay(60000);
 985   1      
 986   1      }
 987          
 988          void flash_2()
 989          
 990          {
 991   1      
 992   1               uchar i;
 993   1      
 994   1               for (i=129;i>0;i--)
 995   1      
 996   1               {
 997   2      
 998   2                         cirp(i-2,0,1);
 999   2      
1000   2                         delay(8000);
1001   2      
1002   2                         cirp(i-1,0,0);
1003   2      
1004   2               }
1005   1      
1006   1               delay(8000);     
1007   1      
1008   1               for (i=0;i<136;i++)
1009   1      
1010   1               {
1011   2      
1012   2                         cirp(i,1,1);
1013   2      
1014   2                         delay(8000);
1015   2      
1016   2                         cirp(i-8,1,0);
1017   2      
1018   2               }
1019   1      
1020   1               delay(8000);
1021   1      
1022   1                        for (i=129;i>0;i--)
1023   1      
1024   1               {
1025   2      
1026   2                         cirp(i-2,0,1);
1027   2      
1028   2                         delay(8000);
1029   2      
1030   2               }
1031   1      
1032   1               delay(8000);
1033   1      
1034   1                         for (i=0;i<128;i++)
C51 COMPILER V9.57.0.0   888                                                               05/22/2018 17:14:06 PAGE 18  

1035   1      
1036   1               {
1037   2      
1038   2                         cirp(i-8,1,0);
1039   2      
1040   2                         delay(8000);
1041   2      
1042   2               }
1043   1      
1044   1               delay(60000);  
1045   1      
1046   1      }
1047          
1048          void flash_3()
1049          
1050          {
1051   1      
1052   1               char i;
1053   1      
1054   1               for (i=0;i<8;i++)
1055   1      
1056   1               {
1057   2      
1058   2                         box_apeak_xy(0,i,0,7,i,7,1,1);
1059   2      
1060   2                         delay(20000);
1061   2      
1062   2                         if (i<7)
1063   2      
1064   2                         box_apeak_xy(0,i,0,7,i,7,1,0);
1065   2      
1066   2               }
1067   1      
1068   1               for (i=7;i>=0;i--)
1069   1      
1070   1               {
1071   2      
1072   2                         box_apeak_xy(0,i,0,7,i,7,1,1);
1073   2      
1074   2                         delay(20000);
1075   2      
1076   2                         if (i>0)
1077   2      
1078   2                         box_apeak_xy(0,i,0,7,i,7,1,0);
1079   2      
1080   2               }
1081   1      
1082   1               for (i=0;i<8;i++)
1083   1      
1084   1               {
1085   2      
1086   2                         box_apeak_xy(0,i,0,7,i,7,1,1);
1087   2      
1088   2                         delay(20000);
1089   2      
1090   2                         if (i<7)
1091   2      
1092   2                         box_apeak_xy(0,i,0,7,i,7,1,0);
1093   2      
1094   2               }
1095   1      
1096   1      }
C51 COMPILER V9.57.0.0   888                                                               05/22/2018 17:14:06 PAGE 19  

1097          
1098          void flash_4()
1099          
1100          {
1101   1      
1102   1               char i,j,an[8];
1103   1      
1104   1               for (j=7;j<15;j++)
1105   1      
1106   1                         an[j-7]=j;
1107   1      
1108   1               for (i=0;i<=16;i++)
1109   1      
1110   1               {
1111   2      
1112   2                         for (j=0;j<8;j++)
1113   2      
1114   2                         {
1115   3      
1116   3                                  if ((an[j]<8)&(an[j]>=0))
1117   3      
1118   3                                  line(0,an[j],j,7,an[j],j,1);
1119   3      
1120   3                         }
1121   2      
1122   2                         for (j=0;j<8;j++)
1123   2      
1124   2                         {
1125   3      
1126   3                                  if (((an[j]+1)<8)&(an[j]>=0))
1127   3      
1128   3                                  line(0,an[j]+1,j,7,an[j]+1,j,0);
1129   3      
1130   3                         }
1131   2      
1132   2                         for (j=0;j<8;j++)
1133   2      
1134   2                         {
1135   3      
1136   3                                  if (an[j]>0)
1137   3      
1138   3                                  an[j]--;
1139   3      
1140   3                         }
1141   2      
1142   2                         delay(15000);
1143   2      
1144   2               }
1145   1      
1146   1               for (j=0;j<8;j++)
1147   1      
1148   1                         an[j]=1-j;
1149   1      
1150   1               for (i=0;i<=16;i++)
1151   1      
1152   1               {
1153   2      
1154   2                         for (j=0;j<8;j++)
1155   2      
1156   2                         {
1157   3      
1158   3                                  if ((an[j]<8)&(an[j]>=0))
C51 COMPILER V9.57.0.0   888                                                               05/22/2018 17:14:06 PAGE 20  

1159   3      
1160   3                                  line(0,an[j],j,7,an[j],j,1);
1161   3      
1162   3                         }
1163   2      
1164   2                         for (j=0;j<8;j++)
1165   2      
1166   2                         {
1167   3      
1168   3                                  if (((an[j]-1)<7)&(an[j]>0))
1169   3      
1170   3                                  line(0,an[j]-1,j,7,an[j]-1,j,0);
1171   3      
1172   3                         }
1173   2      
1174   2                         for (j=0;j<8;j++)
1175   2      
1176   2                         {
1177   3      
1178   3                                  if (an[j]<7)
1179   3      
1180   3                                  an[j]++;
1181   3      
1182   3                         }
1183   2      
1184   2                         delay(15000);
1185   2      
1186   2               }
1187   1      
1188   1      }
1189          
1190          void flash_5()
1191          
1192          {
1193   1      
1194   1               uint a=15000;//a=delay
1195   1      
1196   1               char i=8,j,an[4];
1197   1      
1198   1               //1
1199   1      
1200   1               for (j=7;j<11;j++)
1201   1      
1202   1                         an[j-7]=j;
1203   1      
1204   1               while(i--)
1205   1      
1206   1               {
1207   2      
1208   2                         for (j=0;j<4;j++)
1209   2      
1210   2                         {
1211   3      
1212   3                                  if (an[j]<8)
1213   3      
1214   3                                  box_apeak_xy(j,an[j],j,7-j,an[j],7-j,0,1);
1215   3      
1216   3                                  if (an[j]<7)
1217   3      
1218   3                                  box_apeak_xy(j,an[j]+1,j,7-j,an[j]+1,7-j,0,0);
1219   3      
1220   3                         }
C51 COMPILER V9.57.0.0   888                                                               05/22/2018 17:14:06 PAGE 21  

1221   2      
1222   2                         for (j=0;j<4;j++)
1223   2      
1224   2                         {
1225   3      
1226   3                                  if (an[j]>3)
1227   3      
1228   3                                  an[j]--;
1229   3      
1230   3                         }
1231   2      
1232   2                         delay(a);
1233   2      
1234   2               }
1235   1      
1236   1               //2
1237   1      
1238   1               i=3;
1239   1      
1240   1               for (j=0;j<4;j++)
1241   1      
1242   1               an[j]=5-j;
1243   1      
1244   1               while(i--)
1245   1      
1246   1               {
1247   2      
1248   2                         for (j=1;j<4;j++)
1249   2      
1250   2                         {
1251   3      
1252   3                                  if (an[j]<4)
1253   3      
1254   3                                  box_apeak_xy(j,an[j],j,7-j,an[j],7-j,0,1);
1255   3      
1256   3                                  if (an[j]<3)
1257   3      
1258   3                                  box_apeak_xy(j,an[j]+1,j,7-j,an[j]+1,7-j,0,0);
1259   3      
1260   3                         }
1261   2      
1262   2                         for (j=0;j<4;j++)
1263   2      
1264   2                         {
1265   3      
1266   3                                  if (an[j]>0)
1267   3      
1268   3                                  an[j]--;
1269   3      
1270   3                         }
1271   2      
1272   2                         delay(a);
1273   2      
1274   2               }
1275   1      
1276   1               //3
1277   1      
1278   1               i=3;
1279   1      
1280   1               for (j=1;j<4;j++)
1281   1      
1282   1               an[j]=4-j;
C51 COMPILER V9.57.0.0   888                                                               05/22/2018 17:14:06 PAGE 22  

1283   1      
1284   1               while(i--)
1285   1      
1286   1               {
1287   2      
1288   2                         for (j=1;j<4;j++)
1289   2      
1290   2                         {
1291   3      
1292   3                                  if (an[j]>=0)
1293   3      
1294   3                                  box_apeak_xy(j,an[j],j,7-j,an[j],7-j,0,1);
1295   3      
1296   3                                  if (an[j]>0)
1297   3      
1298   3                                  box_apeak_xy(j,an[j]-1,j,7-j,an[j]-1,7-j,0,0);
1299   3      
1300   3                         }
1301   2      
1302   2                         for (j=1;j<4;j++)
1303   2      
1304   2                         {
1305   3      
1306   3                                  if (an[j]<3)
1307   3      
1308   3                                  an[j]++;
1309   3      
1310   3                         }
1311   2      
1312   2                         delay(a);
1313   2      
1314   2               }
1315   1      
1316   1       
1317   1      
1318   1               //4
1319   1      
1320   1               i=3;
1321   1      
1322   1               for (j=0;j<4;j++)
1323   1      
1324   1               an[j]=j+1;
1325   1      
1326   1               while(i--)
1327   1      
1328   1               {
1329   2      
1330   2                         for (j=1;j<4;j++)
1331   2      
1332   2                         {
1333   3      
1334   3                                  if (an[j]>3)
1335   3      
1336   3                                  box_apeak_xy(j,an[j],j,7-j,an[j],7-j,0,1);
1337   3      
1338   3                                  if (an[j]>3)
1339   3      
1340   3                                  box_apeak_xy(j,an[j]-1,j,7-j,an[j]-1,7-j,0,0);
1341   3      
1342   3                         }
1343   2      
1344   2                         for (j=0;j<4;j++)
C51 COMPILER V9.57.0.0   888                                                               05/22/2018 17:14:06 PAGE 23  

1345   2      
1346   2                                  an[j]++;
1347   2      
1348   2                         delay(a);
1349   2      
1350   2               }
1351   1      
1352   1               //5
1353   1      
1354   1               i=3;
1355   1      
1356   1               for (j=3;j<6;j++)
1357   1      
1358   1                         an[j-2]=j;
1359   1      
1360   1               while(i--)
1361   1      
1362   1               {
1363   2      
1364   2                         for (j=1;j<4;j++)
1365   2      
1366   2                         {
1367   3      
1368   3                                  box_apeak_xy(j,an[j],j,7-j,an[j],7-j,0,1);
1369   3      
1370   3                                  box_apeak_xy(j,an[j]+1,j,7-j,an[j]+1,7-j,0,0);
1371   3      
1372   3                         }
1373   2      
1374   2                         for (j=0;j<4;j++)
1375   2      
1376   2                         {
1377   3      
1378   3                                  if (an[j]>3)
1379   3      
1380   3                                  an[j]--;
1381   3      
1382   3                         }
1383   2      
1384   2                         delay(a);
1385   2      
1386   2               }
1387   1      
1388   1               //6
1389   1      
1390   1               i=3;
1391   1      
1392   1               for (j=0;j<4;j++)
1393   1      
1394   1               an[j]=5-j;
1395   1      
1396   1               while(i--)
1397   1      
1398   1               {
1399   2      
1400   2                         for (j=1;j<4;j++)
1401   2      
1402   2                         {
1403   3      
1404   3                                  if (an[j]<4)
1405   3      
1406   3                                  box_apeak_xy(j,an[j],j,7-j,an[j],7-j,0,1);
C51 COMPILER V9.57.0.0   888                                                               05/22/2018 17:14:06 PAGE 24  

1407   3      
1408   3                                  if (an[j]<3)
1409   3      
1410   3                                  box_apeak_xy(j,an[j]+1,j,7-j,an[j]+1,7-j,0,0);
1411   3      
1412   3                         }
1413   2      
1414   2                         for (j=0;j<4;j++)
1415   2      
1416   2                         {
1417   3      
1418   3                                  if (an[j]>0)
1419   3      
1420   3                                  an[j]--;
1421   3      
1422   3                         }
1423   2      
1424   2                         delay(a);
1425   2      
1426   2               }
1427   1      
1428   1               //7
1429   1      
1430   1               i=3;
1431   1      
1432   1               for (j=0;j<4;j++)
1433   1      
1434   1               an[j]=3-j;
1435   1      
1436   1               an[0]=2;
1437   1      
1438   1               while(i--)
1439   1      
1440   1               {
1441   2      
1442   2                         for (j=0;j<3;j++)
1443   2      
1444   2                         {
1445   3      
1446   3                                  if (an[j]>=0)
1447   3      
1448   3                                           box_apeak_xy(j,an[j],j,7-j,an[j],7-j,0,1);
1449   3      
1450   3                                  if (an[j]>=0)
1451   3      
1452   3                                           box_apeak_xy(j,an[j]+1,j,7-j,an[j]+1,7-j,0,0);
1453   3      
1454   3                         }
1455   2      
1456   2                         for (j=0;j<4;j++)
1457   2      
1458   2                         {
1459   3      
1460   3                                  if (j<5-i)
1461   3      
1462   3                                  an[j]--;
1463   3      
1464   3                         }
1465   2      
1466   2                         delay(a);
1467   2      
1468   2               }
C51 COMPILER V9.57.0.0   888                                                               05/22/2018 17:14:06 PAGE 25  

1469   1      
1470   1               //8
1471   1      
1472   1               i=10;
1473   1      
1474   1               for (j=0;j<4;j++)
1475   1      
1476   1                         an[j]=j-2;
1477   1      
1478   1               while(i--)
1479   1      
1480   1               {
1481   2      
1482   2                         for (j=0;j<4;j++)
1483   2      
1484   2                         {
1485   3      
1486   3                                  if (an[j]>=0)
1487   3      
1488   3                                  box_apeak_xy(j,an[j],j,7-j,an[j],7-j,0,1);
1489   3      
1490   3                                  if (an[j]>=0)
1491   3      
1492   3                                  box_apeak_xy(j,an[j]-1,j,7-j,an[j]-1,7-j,0,0);
1493   3      
1494   3                         }
1495   2      
1496   2                         for (j=0;j<4;j++)
1497   2      
1498   2                         {
1499   3      
1500   3                                  if (an[j]<7)
1501   3      
1502   3                                  an[j]++;
1503   3      
1504   3                         }
1505   2      
1506   2                         delay(a);
1507   2      
1508   2               }
1509   1      
1510   1      }
1511          
1512          void flash_6()
1513          
1514          {
1515   1      
1516   1            uchar i,j,k,z;
1517   1      
1518   1            roll_apeak_yz(1,10000);
1519   1      
1520   1            roll_apeak_yz(2,10000);
1521   1      
1522   1            roll_apeak_yz(3,10000);
1523   1      
1524   1            roll_apeak_yz(0,10000);
1525   1      
1526   1            roll_apeak_yz(1,10000);
1527   1      
1528   1            roll_apeak_yz(2,10000);
1529   1      
1530   1            roll_apeak_yz(3,10000);
C51 COMPILER V9.57.0.0   888                                                               05/22/2018 17:14:06 PAGE 26  

1531   1      
1532   1            for (i=0;i<3;i++)
1533   1      
1534   1                     {
1535   2      
1536   2                               for (j=0;j<8;j++)
1537   2      
1538   2                               {
1539   3      
1540   3                                        for (k=0;k<8;k++)
1541   3      
1542   3                                        {
1543   4      
1544   4                                                 if ((table_3p[i][j]>>k)&1)
1545   4      
1546   4                                                 {
1547   5      
1548   5                                                           for (z=1;z<8;z++)
1549   5      
1550   5                                                                    {
1551   6      
1552   6                                                                             point (j,7-k,z,1);
1553   6      
1554   6                                                                             if (z-1)
1555   6      
1556   6                                                                             point (j,7-k,z-1,0);
1557   6      
1558   6                                                                             delay(5000);
1559   6      
1560   6                                                                    }
1561   5      
1562   5                                                 }
1563   4      
1564   4                                        }
1565   3      
1566   3                               }
1567   2      
1568   2                               trans(7,15000);
1569   2      
1570   2                     }
1571   1      
1572   1      }
1573          
1574          void flash_7()
1575          
1576          {
1577   1      
1578   1            uchar i;
1579   1      
1580   1            uint a=3000;
1581   1      
1582   1            roll_apeak_yz(0,10000);
1583   1      
1584   1            roll_apeak_yz(1,10000);
1585   1      
1586   1            roll_apeak_yz(2,10000);
1587   1      
1588   1            roll_apeak_yz(3,10000);
1589   1      
1590   1            roll_apeak_yz(0,10000);
1591   1      
1592   1            roll_apeak_yz(1,10000);
C51 COMPILER V9.57.0.0   888                                                               05/22/2018 17:14:06 PAGE 27  

1593   1      
1594   1            roll_apeak_yz(2,10000);
1595   1      
1596   1            roll_apeak_yz(3,10000);
1597   1      
1598   1            roll_apeak_yz(0,10000);
1599   1      
1600   1            roll_apeak_yz(1,10000);
1601   1      
1602   1            roll_apeak_yz(2,10000);
1603   1      
1604   1            roll_apeak_xy(0,10000);
1605   1      
1606   1            roll_apeak_xy(1,10000);
1607   1      
1608   1            roll_apeak_xy(2,10000);
1609   1      
1610   1            roll_apeak_xy(3,10000);
1611   1      
1612   1            roll_apeak_xy(0,10000);
1613   1      
1614   1            roll_apeak_xy(1,10000);
1615   1      
1616   1            roll_apeak_xy(2,10000);
1617   1      
1618   1            roll_apeak_xy(3,10000);
1619   1      
1620   1            for (i=0;i<8;i++)
1621   1      
1622   1            {
1623   2      
1624   2                     box_apeak_xy (0,i,0,7-i,i,7,1,1);
1625   2      
1626   2                     delay(a);
1627   2      
1628   2            }
1629   1      
1630   1            delay(30000);
1631   1      
1632   1            roll_3_xy(0,a);
1633   1      
1634   1            delay(30000);
1635   1      
1636   1            roll_3_xy(1,a);
1637   1      
1638   1            delay(30000);
1639   1      
1640   1            roll_3_xy(2,a);
1641   1      
1642   1            delay(30000);
1643   1      
1644   1            roll_3_xy(3,a);
1645   1      
1646   1            delay(30000);
1647   1      
1648   1            roll_3_xy(0,a);
1649   1      
1650   1            delay(30000);
1651   1      
1652   1            roll_3_xy(1,a);
1653   1      
1654   1            delay(30000);
C51 COMPILER V9.57.0.0   888                                                               05/22/2018 17:14:06 PAGE 28  

1655   1      
1656   1            roll_3_xy(2,a);
1657   1      
1658   1            delay(30000);
1659   1      
1660   1            roll_3_xy(3,a);
1661   1      
1662   1            for (i=7;i>0;i--)
1663   1      
1664   1            {
1665   2      
1666   2                     box_apeak_xy(i,0,0,i,7,7,1,0);
1667   2      
1668   2                     delay(a);
1669   2      
1670   2            }
1671   1      
1672   1      }
1673          
1674          void flash_8()
1675          
1676          {
1677   1      
1678   1            uchar i;
1679   1      
1680   1            for (i=5;i<8;i++)
1681   1      
1682   1            {
1683   2      
1684   2                     tranoutchar(i,10000);
1685   2      
1686   2                     delay(60000);
1687   2      
1688   2                     delay(60000);
1689   2      
1690   2            }
1691   1      
1692   1      }
1693          
1694          void flash_9()
1695          
1696          {
1697   1      
1698   1            char i;
1699   1      
1700   1            uchar j,an[8],x,y,t,x1,y1;
1701   1      
1702   1            for (i=0;i<8;i++)
1703   1      
1704   1            {
1705   2      
1706   2                     box_apeak_xy (i,0,0,i,7,7,1,1);
1707   2      
1708   2                     if (i)
1709   2      
1710   2                     box_apeak_xy (i-1,0,0,i-1,7,7,1,0);
1711   2      
1712   2                     delay(10000);
1713   2      
1714   2            }
1715   1      
1716   1            roll_apeak_xy(3,10000);
C51 COMPILER V9.57.0.0   888                                                               05/22/2018 17:14:06 PAGE 29  

1717   1      
1718   1            roll_apeak_xy(0,10000);
1719   1      
1720   1            roll_apeak_xy(1,10000);
1721   1      
1722   1            for (i=0;i<7;i++)
1723   1      
1724   1            {
1725   2      
1726   2                     line(6-i,6-i,0,6-i,6-i,7,1);
1727   2      
1728   2                     line(i,7,0,i,7,7,0);
1729   2      
1730   2                     delay(10000);
1731   2      
1732   2            }
1733   1      
1734   1            for (i=0;i<8;i++)
1735   1      
1736   1                     an[i]=14;
1737   1      
1738   1            for (i=0;i<85;i++)
1739   1      
1740   1            {
1741   2      
1742   2                     clear(0);
1743   2      
1744   2                     for (j=0;j<8;j++)
1745   2      
1746   2                     {
1747   3      
1748   3                               t=an[j]%28;
1749   3      
1750   3                               x=dat2[t]>>5;
1751   3      
1752   3                               y=(dat2[t]>>2)&0x07;
1753   3      
1754   3                               t=(an[j]-14)%28;
1755   3      
1756   3                               x1=dat2[t]>>5;
1757   3      
1758   3                               y1=(dat2[t]>>2)&0x07;
1759   3      
1760   3                               line(x,y,j,x1,y1,j,1);
1761   3      
1762   3                     }
1763   2      
1764   2                     for (j=0;j<8;j++)
1765   2      
1766   2                     {
1767   3      
1768   3                     if ((i>j)&(j>i-71))
1769   3      
1770   3                     an[j]++;
1771   3      
1772   3                     } 
1773   2      
1774   2                     delay(5000);
1775   2      
1776   2            }
1777   1      
1778   1            for (i=0;i<85;i++)
C51 COMPILER V9.57.0.0   888                                                               05/22/2018 17:14:06 PAGE 30  

1779   1      
1780   1            {
1781   2      
1782   2                     clear(0);
1783   2      
1784   2                     for (j=0;j<8;j++)
1785   2      
1786   2                     {
1787   3      
1788   3                               t=an[j]%28;
1789   3      
1790   3                               x=dat2[t]>>5;
1791   3      
1792   3                               y=(dat2[t]>>2)&0x07;
1793   3      
1794   3                               t=(an[j]-14)%28;
1795   3      
1796   3                               x1=dat2[t]>>5;
1797   3      
1798   3                               y1=(dat2[t]>>2)&0x07;
1799   3      
1800   3                               line(x,y,j,x1,y1,j,1);
1801   3      
1802   3                     }
1803   2      
1804   2                     for (j=0;j<8;j++)
1805   2      
1806   2                     {
1807   3      
1808   3                     if ((i>j)&(j>i-71))
1809   3      
1810   3                     an[j]--;
1811   3      
1812   3                     } 
1813   2      
1814   2                     delay(5000);
1815   2      
1816   2            }
1817   1      
1818   1            for (i=0;i<29;i++)
1819   1      
1820   1            {
1821   2      
1822   2                     clear(0);
1823   2      
1824   2      
1825   2      
1826   2                     t=an[0]%28;
1827   2      
1828   2                     x=dat2[t]>>5;
1829   2      
1830   2                     y=(dat2[t]>>2)&0x07;
1831   2      
1832   2                     t=(an[0]-14)%28;
1833   2      
1834   2                     x1=dat2[t]>>5;
1835   2      
1836   2                     y1=(dat2[t]>>2)&0x07;
1837   2      
1838   2                     box_apeak_xy(x,y,0,x1,y1,7,0,1);
1839   2      
1840   2                     box_apeak_xy(x,y,1,x1,y1,6,0,1);
C51 COMPILER V9.57.0.0   888                                                               05/22/2018 17:14:06 PAGE 31  

1841   2      
1842   2                     an[0]++; 
1843   2      
1844   2                     delay(5000);
1845   2      
1846   2            }
1847   1      
1848   1            for (i=0;i<16;i++)
1849   1      
1850   1            {
1851   2      
1852   2                     clear(0);
1853   2      
1854   2      
1855   2      
1856   2                     t=an[0]%28;
1857   2      
1858   2                     x=dat2[t]>>5;
1859   2      
1860   2                     y=(dat2[t]>>2)&0x07;
1861   2      
1862   2                     t=(an[0]-14)%28;
1863   2      
1864   2                     x1=dat2[t]>>5;
1865   2      
1866   2                     y1=(dat2[t]>>2)&0x07;
1867   2      
1868   2                     box_apeak_xy(x,y,0,x1,y1,7,1,1);
1869   2      
1870   2                     an[0]--; 
1871   2      
1872   2                     delay(5000);
1873   2      
1874   2            }
1875   1      
1876   1            for (i=0;i<8;i++)
1877   1      
1878   1            {
1879   2      
1880   2                     line(i,i,0,0,0,i,0);
1881   2      
1882   2                     delay(5000);
1883   2      
1884   2            }
1885   1      
1886   1            for (i=1;i<7;i++)
1887   1      
1888   1            {
1889   2      
1890   2                     line(i,i,7,7,7,i,0);
1891   2      
1892   2                     delay(5000);
1893   2      
1894   2            }
1895   1      
1896   1            for (i=1;i<8;i++)
1897   1      
1898   1            {
1899   2      
1900   2                     clear(0);
1901   2      
1902   2                     box(7,7,7,7-i,7-i,7-i,0,1);
C51 COMPILER V9.57.0.0   888                                                               05/22/2018 17:14:06 PAGE 32  

1903   2      
1904   2                     delay(10000);
1905   2      
1906   2            }
1907   1      
1908   1            for (i=1;i<7;i++)
1909   1      
1910   1            {
1911   2      
1912   2                     clear(0);
1913   2      
1914   2                     box(0,0,0,7-i,7-i,7-i,0,1);
1915   2      
1916   2                     delay(10000);
1917   2      
1918   2            }
1919   1      
1920   1            for (i=1;i<8;i++)
1921   1      
1922   1            {
1923   2      
1924   2                     clear(0);
1925   2      
1926   2                     box(0,0,0,i,i,i,0,1);
1927   2      
1928   2                     delay(10000);
1929   2      
1930   2            }
1931   1      
1932   1            for (i=1;i<7;i++)
1933   1      
1934   1            {
1935   2      
1936   2                     clear(0);
1937   2      
1938   2                     box(7,0,0,i,7-i,7-i,0,1);
1939   2      
1940   2                     delay(10000);
1941   2      
1942   2            }
1943   1      
1944   1            for (i=1;i<8;i++)
1945   1      
1946   1            {
1947   2      
1948   2                     box(7,0,0,7-i,i,i,1,1);
1949   2      
1950   2                     delay(10000);
1951   2      
1952   2            }
1953   1      
1954   1            for (i=1;i<7;i++)
1955   1      
1956   1            {
1957   2      
1958   2                     clear(0);
1959   2      
1960   2                     box(0,7,7,7-i,i,i,1,1);
1961   2      
1962   2                     delay(10000);
1963   2      
1964   2            }
C51 COMPILER V9.57.0.0   888                                                               05/22/2018 17:14:06 PAGE 33  

1965   1      
1966   1      }
1967          
1968          void flash_10()
1969          
1970          {
1971   1      
1972   1            uchar i,j,an[4],x,y,t;
1973   1      
1974   1            for (i=1;i<7;i++)
1975   1      
1976   1            {
1977   2      
1978   2                     
1979   2      
1980   2                     clear(0);
1981   2      
1982   2                     box(0,6,6,1,7,7,1,1);
1983   2      
1984   2                     box(i,6,6-i,i+1,7,7-i,1,1);
1985   2      
1986   2                     box(i,6,6,i+1,7,7,1,1);
1987   2      
1988   2                     box(0,6,6-i,1,7,7-i,1,1);
1989   2      
1990   2                     box(0,6-i,6,1,7-i,7,1,1);
1991   2      
1992   2                     box(i,6-i,6-i,i+1,7-i,7-i,1,1);
1993   2      
1994   2                     box(i,6-i,6,i+1,7-i,7,1,1);
1995   2      
1996   2                     box(0,6-i,6-i,1,7-i,7-i,1,1);
1997   2      
1998   2                     delay(30000);
1999   2      
2000   2            }
2001   1      
2002   1            for (i=0;i<4;i++)
2003   1      
2004   1            {
2005   2      
2006   2                     an[i]=6*i;
2007   2      
2008   2            }
2009   1      
2010   1            for (i=0;i<35;i++)
2011   1      
2012   1            {
2013   2      
2014   2                     clear(0);
2015   2      
2016   2                     for(j=0;j<4;j++)
2017   2      
2018   2                     {
2019   3      
2020   3                               t=an[j]%24;
2021   3      
2022   3                               x=dat3[t]>>4;
2023   3      
2024   3                               y=dat3[t]&0x0f;
2025   3      
2026   3                               box(x,y,0,x+1,y+1,1,1,1);
C51 COMPILER V9.57.0.0   888                                                               05/22/2018 17:14:06 PAGE 34  

2027   3      
2028   3                               box(x,y,6,x+1,y+1,7,1,1);
2029   3      
2030   3                     }
2031   2      
2032   2                     for (j=0;j<4;j++)
2033   2      
2034   2                     an[j]++; 
2035   2      
2036   2                     delay(10000);
2037   2      
2038   2            }
2039   1      
2040   1            for (i=0;i<35;i++)
2041   1      
2042   1            {
2043   2      
2044   2                     clear(0);
2045   2      
2046   2                     for(j=0;j<4;j++)
2047   2      
2048   2                     {
2049   3      
2050   3                               t=an[j]%24;
2051   3      
2052   3                               x=dat3[t]>>4;
2053   3      
2054   3                               y=dat3[t]&0x0f;
2055   3      
2056   3                               box(x,y,0,x+1,y+1,1,1,1);
2057   3      
2058   3                               box(x,y,6,x+1,y+1,7,1,1);
2059   3      
2060   3                     }
2061   2      
2062   2                     for (j=0;j<4;j++)
2063   2      
2064   2                     an[j]--; 
2065   2      
2066   2                     delay(10000);
2067   2      
2068   2            }
2069   1      
2070   1            for (i=0;i<35;i++)
2071   1      
2072   1            {
2073   2      
2074   2                     clear(0);
2075   2      
2076   2                     for(j=0;j<4;j++)
2077   2      
2078   2                     {
2079   3      
2080   3                               t=an[j]%24;
2081   3      
2082   3                               x=dat3[t]>>4;
2083   3      
2084   3                               y=dat3[t]&0x0f;
2085   3      
2086   3                               box(x,0,y,x+1,1,y+1,1,1);
2087   3      
2088   3                               box(x,6,y,x+1,7,y+1,1,1);
C51 COMPILER V9.57.0.0   888                                                               05/22/2018 17:14:06 PAGE 35  

2089   3      
2090   3                     }
2091   2      
2092   2                     for (j=0;j<4;j++)
2093   2      
2094   2                     an[j]++; 
2095   2      
2096   2                     delay(10000);
2097   2      
2098   2            }
2099   1      
2100   1            for (i=0;i<36;i++)
2101   1      
2102   1            {
2103   2      
2104   2                     clear(0);
2105   2      
2106   2                     for(j=0;j<4;j++)
2107   2      
2108   2                     {
2109   3      
2110   3                               t=an[j]%24;
2111   3      
2112   3                               x=dat3[t]>>4;
2113   3      
2114   3                               y=dat3[t]&0x0f;
2115   3      
2116   3                               box(x,0,y,x+1,1,y+1,1,1);
2117   3      
2118   3                               box(x,6,y,x+1,7,y+1,1,1);
2119   3      
2120   3                     }
2121   2      
2122   2                     for (j=0;j<4;j++)
2123   2      
2124   2                     an[j]--; 
2125   2      
2126   2                     delay(10000);
2127   2      
2128   2            }
2129   1      
2130   1            for (i=6;i>0;i--)
2131   1      
2132   1            {
2133   2      
2134   2                     
2135   2      
2136   2                     clear(0);
2137   2      
2138   2                     box(0,6,6,1,7,7,1,1);
2139   2      
2140   2                     box(i,6,6-i,i+1,7,7-i,1,1);
2141   2      
2142   2                     box(i,6,6,i+1,7,7,1,1);
2143   2      
2144   2                     box(0,6,6-i,1,7,7-i,1,1);
2145   2      
2146   2                     box(0,6-i,6,1,7-i,7,1,1);
2147   2      
2148   2                     box(i,6-i,6-i,i+1,7-i,7-i,1,1);
2149   2      
2150   2                     box(i,6-i,6,i+1,7-i,7,1,1);
C51 COMPILER V9.57.0.0   888                                                               05/22/2018 17:14:06 PAGE 36  

2151   2      
2152   2                     box(0,6-i,6-i,1,7-i,7-i,1,1);
2153   2      
2154   2                     delay(30000);
2155   2      
2156   2            }
2157   1      
2158   1      }
2159          
2160          void flash_11()
2161          
2162          {
2163   1      
2164   1            uchar i,j,t,x,y;
2165   1      
2166   1            uchar code daa[13]={0,1,2,0x23,5,6,7,6,5,0x23,2,1,0};
2167   1      
2168   1            for (j=0;j<5;j++)
2169   1      
2170   1            {
2171   2      
2172   2                     for (i=0;i<13;i++)
2173   2      
2174   2                     {
2175   3      
2176   3                               if (daa[i]>>4)
2177   3      
2178   3                               {
2179   4      
2180   4                                        t=daa[i]&0x0f;
2181   4      
2182   4                                        line (0,0,t+1,0,7,t+1,1);
2183   4      
2184   4                               }
2185   3      
2186   3                               else 
2187   3      
2188   3                                        t=daa[i];
2189   3      
2190   3                               line (0,0,t,0,7,t,1);
2191   3      
2192   3                               transss();
2193   3      
2194   3                               delay(10000);
2195   3      
2196   3                     }
2197   2      
2198   2            }
2199   1      
2200   1            for (j=1;j<8;j++)
2201   1      
2202   1            {
2203   2      
2204   2                     if (j>3)
2205   2      
2206   2                               t=4;
2207   2      
2208   2                     else
2209   2      
2210   2                               t=j;
2211   2      
2212   2                     for (i=0;i<24;i+=j)
C51 COMPILER V9.57.0.0   888                                                               05/22/2018 17:14:06 PAGE 37  

2213   2      
2214   2                     {
2215   3      
2216   3                               x=dat3[i]>>4;
2217   3      
2218   3                               y=dat3[i]&0x0f;
2219   3      
2220   3                               box_apeak_xy(0,x,y,0,x+1,y+1,1,1);
2221   3      
2222   3                               transss();
2223   3      
2224   3                               delay(10000);
2225   3      
2226   3                     }
2227   2      
2228   2            }
2229   1      
2230   1            for (j=1;j<8;j++)
2231   1      
2232   1            {
2233   2      
2234   2                     if (j>3)
2235   2      
2236   2                               t=4;
2237   2      
2238   2                     else
2239   2      
2240   2                               t=j;
2241   2      
2242   2                     for (i=0;i<24;i+=j)
2243   2      
2244   2                     {
2245   3      
2246   3                               x=dat3[i]>>4;
2247   3      
2248   3                               y=dat3[i]&0x0f;
2249   3      
2250   3                               point (0,x,y,1);
2251   3      
2252   3                               transss();
2253   3      
2254   3                               delay(10000);
2255   3      
2256   3                     }
2257   2      
2258   2            }
2259   1      
2260   1      }
2261          
2262          void main()
2263          
2264          {
2265   1          
2266   1               sinter();
2267   1           while(1){
2268   2              // clear(0);
2269   2      
2270   2               /*play list*/
2271   2      
2272   2               //flash_1();
2273   2      
2274   2               clear(0);
C51 COMPILER V9.57.0.0   888                                                               05/22/2018 17:14:06 PAGE 38  

2275   2      
2276   2               flash_2();
2277   2      
2278   2               flash_3();
2279   2      
2280   2               flash_4();
2281   2      
2282   2               flash_4();
2283   2      
2284   2               flash_5();
2285   2      
2286   2            flash_5();
2287   2      
2288   2            flash_6();
2289   2      
2290   2            flash_7();
2291   2      
2292   2            flash_8();
2293   2      
2294   2            flash_9();
2295   2      
2296   2            flash_10();
2297   2      
2298   2            clear (0);
2299   2      
2300   2            flash_11();
2301   2      
2302   2            flash_9();
2303   2      
2304   2            flash_5();
2305   2      
2306   2            flash_7();
2307   2      
2308   2            flash_5();
2309   2      
2310   2            flash_6();
2311   2      
2312   2            flash_8();
2313   2      
2314   2            flash_9();
2315   2      
2316   2            flash_10();
2317   2      
2318   2               }
2319   1      
2320   1      }
2321          
2322          //P0;   //573 in
2323          //P1;  //uln2803
2324          //P2;  //573 LE
2325          
2326          void print() interrupt 1
2327          
2328          {
2329   1      
2330   1               uchar i;
2331   1      
2332   1               static uchar layer=0;
2333   1      
2334   1               P1=0;
2335   1      
2336   1               for (i=0;i<8;i++)
C51 COMPILER V9.57.0.0   888                                                               05/22/2018 17:14:06 PAGE 39  

2337   1      
2338   1               {
2339   2      
2340   2                         P2=1<<i;
2341   2      
2342   2                         delay(3);
2343   2      
2344   2                         P0=display[layer][i];
2345   2      
2346   2                         delay(3);
2347   2      
2348   2               }
2349   1      
2350   1               P1=1<<layer;
2351   1      
2352   1               if (layer<7) 
2353   1      
2354   1                         layer++;
2355   1      
2356   1               else 
2357   1      
2358   1                         layer=0;
2359   1      
2360   1               TH0=0xc0;
2361   1      
2362   1               TL0=0;
2363   1      
2364   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =   7833    ----
   CONSTANT SIZE    =    321    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     65     115
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
